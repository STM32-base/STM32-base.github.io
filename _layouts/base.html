{% assign menu = site["mainMenu"] %}
{% assign footer = site["footerMenu"] %}
{% assign socials = site["socialsMenu"] %}

<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        {% seo %}

        <link rel="shortcut icon" href="/assets/img/logos/favicon.ico" type="image/icon">
        <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}" type="text/css">
        {% if jekyll.environment == "production" %}
        <script type="text/javascript">
            var _paq = window._paq = window._paq || [];
            _paq.push(['disableCookies']);
            _paq.push(['trackPageView']);
            _paq.push(['enableLinkTracking']);
            (function() {
                var u="https://analytics.stm32-base.org/";
                _paq.push(['setTrackerUrl', u+'matomo.php']);
                _paq.push(['setSiteId', '1']);
                var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
                g.type='text/javascript'; g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
            })();
        </script>
        {% endif %}
    </head>
    <body>
        <header class="site-header">
            <div class="wrapper">
                <div class="header-logo"><a href="{{ site.url }}"><img src="{{ site.logo }}" alt="STM32-base logo" /></a></div>
                <div class="header-title"><a href="{{ site.url }}">STM32-base</a></div>
                <div id="hamburger" class="header-menu-toggle"><i class="fas fa-bars"></i></div>
            </div>
        </header>
        <nav id="main-menu" class="site-navigation">
            <div class="wrapper">
                <menu class="main-menu">
                    {%- for item in menu -%}
                    <li><a href="{% if item.external == false %}{{ site.url }}/{% endif %}{{ item.url }}">{{ item.name }}</a></li>
                    {%- endfor -%}
                </menu>
            </div>
        </nav>

{{ content }}

        <footer class="site-footer">
            <div class="wrapper">
                <div class="footer-columns">
                    <div class="footer-column">
                        <p>This is the <a href="https://stm32-base.org">STM32-base project website</a>. Learn more <a href="https://stm32-base.org/general/about">about</a> the STM32-base project or check out this project on <a href="https://github.com/STM32-base">Github</a>. The STM32-base project is <i>in no way</i> affiliated with <a href="https://www.st.com">STMicroelectronics</a>.</p>
                    </div>
                    <div class="footer-column">
                        <p>This website is hosted on <a href="https://pages.github.com/">Github Pages</a>. This page is <a href="https://jeffhuang.com/designed_to_last/">designed to last</a>. Check out which <a href="https://stm32-base.org/general/license">licenses</a> apply to this website and its contents. Check out the <a href="https://stm32-base.org/general/privacy-policy">Privacy policy</a>.</p>
                    </div>
                </div>
            </div>
        </footer>
        <script src="{{ '/assets/js/scale.fix.js' | relative_url }}"></script>
        <script src="{{ '/assets/js/menu.js' | relative_url }}"></script>
    </body>
</html>
